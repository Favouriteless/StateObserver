- CHANGED: Updated StateObserver data structure to make it more efficient with a large number of observers.